<!DOCTYPE html>
<html lang="en">

<head>
        <meta charset="UTF-8">
        <title>Text to Image Converter</title>
</head>

<body>
        <input type="text" id="textInput" placeholder="Enter your message here">
        <button onclick="generateImageClipboard()">clipboard</button>
        <button onclick="generateImageShare()">share</button>
        <canvas id="textCanvas" style="display:none;"></canvas>
        <script>
                function generateImageShare() {
                        const canvas = document.getElementById('textCanvas');
                        const ctx = canvas.getContext('2d');
                        const text = document.getElementById('textInput').value;

                        // Set canvas size
                        canvas.width = 800;
                        canvas.height = 200;

                        // Optional: Set background color
                        ctx.fillStyle = "#FFF"; // white background
                        ctx.fillRect(0, 0, canvas.width, canvas.height);

                        // Set text properties
                        ctx.fillStyle = "#000"; // black text
                        ctx.font = '48px sans-serif';
                        ctx.textAlign = 'center';
                        ctx.textBaseline = 'middle';
                        ctx.fillText(text, canvas.width / 2, canvas.height / 2);

                        // Convert canvas to PNG
                        canvas.toBlob(blob => {
                                const file = new File([blob], "image.png", { type: "image/png" });

                                if (navigator.share) {
                                        navigator.share({
                                                files: [file],
                                                title: 'Share your Image',
                                                text: 'Check out this image I created!'
                                        }).then(() => {
                                                console.log('Image shared successfully');
                                        }).catch(err => {
                                                console.error('Error sharing the image:', err);
                                        });
                                } else {
                                        console.error('Web Share API is not supported in your browser.');
                                }
                        });
                }

                function generateImageClipboard() {
                        const canvas = document.getElementById('textCanvas');
                        const ctx = canvas.getContext('2d');
                        const text = document.getElementById('textInput').value;

                        // Set canvas size
                        canvas.width = 800;
                        canvas.height = 200;

                        // Optional: Set background color
                        ctx.fillStyle = "#FFF"; // white background
                        ctx.fillRect(0, 0, canvas.width, canvas.height);

                        // Set text properties
                        ctx.fillStyle = "#000"; // black text
                        ctx.font = '48px sans-serif';
                        ctx.textAlign = 'center';
                        ctx.textBaseline = 'middle';
                        ctx.fillText(text, canvas.width / 2, canvas.height / 2);

                        // Convert canvas to PNG
                        canvas.toBlob(blob => {
                                const item = new ClipboardItem({ "image/png": blob });
                                navigator.clipboard.write([item]).then(() => {
                                        alert('Image copied to clipboard!');
                                }).catch(err => {
                                        console.error('Could not copy image to clipboard:', err);
                                });
                        });
                }

        </script>
</body>

</html>
